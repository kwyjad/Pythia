############################################
# PYTHIA — ENVIRONMENT VARIABLES
# Last updated: 2025-09-13 (Europe/Istanbul)
############################################

###############
# METACULUS
###############
METACULUS_TOKEN=xxx
METACULUS_INCLUDE_RESOLVED=0
TOURNAMENT_ID=fall-aib-2025
SUBMIT_PREDICTION=1

###############
# GENERAL
###############
GIT_SHA=

###############
# CONCURRENCY
###############
LLM_MAX_CONCURRENCY=4

###############
# LOGGING LIMITS
###############
HUMAN_LOG_MODEL_RAW_MAX_CHARS=5000
HUMAN_LOG_RESEARCH_MAX_CHARS=15000
RESEARCH_SNIPPET_MAX_CHARS=600
RESEARCH_LOG_ALL_CANDIDATES=1

###############
# FORECASTING KNOBS
###############
FORECAST_TEMP=0.00
FORECAST_TOP_P=0.10
GTMC1_ACTIVATION_THRESHOLD=0.50

###############
# RESEARCH KNOBS
###############
RESEARCH_TEMP=0.10
RESEARCH_TOP_P=0.90
REQUIRE_YEAR_IF_PRESENT=0
MIN_ANCHOR_MATCH=2
SALVAGE_MIN_MATCH=1

###############
# CALIBRATION
###############
CALIBRATION_PATH=calibration/calibration_state.json
CALIB_ADVICE_PATH=calibration/calibration_advice.json
CALIB_WEIGHTS_PATH=calibration/calibration_weights.json
SPAG_CALIB_K=1.0
SPAG_CALIB_BETA=0.50
SPAG_CALIB_HALFLIFE_DAYS=30

###############
# CSV / FILE PATHS
###############
FORECASTS_CSV_PATH=outputs/forecasts.csv
TEST_POSTS_FILE=data/test_posts.jsonl
TEST_POST_IDS=578,14333,22427,38195

###############
# MARKET SNAPSHOT
###############
ENABLE_MARKET_SNAPSHOT=1
MARKET_SNAPSHOT_MAX_MATCHES=10

###############
# PROVIDER TOGGLES
###############
USE_OPENROUTER=1
USE_GOOGLE=1
ENABLE_GROK=1

###############
# OPENROUTER (PRIMARY)
###############
OPENROUTER_API_KEY=xxx
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_FALLBACK_ID=openai/gpt-4o
OPENROUTER_GPT5_ID=openai/gpt-4o
OPENROUTER_GPT5_THINK_ID=openai/gpt-4o
OPENROUTER_CLAUDE37_ID=anthropic/claude-3.7-sonnet

# Alias sometimes used in code for OpenRouter:
OR_API_KEY=xxx

###############
# OPENAI DIRECT (optional; usually unused now)
###############
OPENAI_API_KEY=xxx
OPENAI_BASE_URL=https://openrouter.ai/api/v1

###############
# GEMINI (Google)
###############
GOOGLE_API_KEY=xxx
GEMINI_API_KEY=xxxx
GEMINI_MODEL=gemini-2.5-pro
GEMINI_MODEL_ID=gemini-2.5-pro
GEMINI_CALL_TIMEOUT_SEC=180
GPT5_CALL_TIMEOUT_SEC=180

###############
# GROK (xAI)
###############
XAI_API_KEY=xxx
XAI_BASE_URL=https://api.x.ai/v1
XAI_GROK_ID=grok-4
GROK_MODEL_ID=grok-4
GROK_CALL_TIMEOUT_SEC=180


###############
# CLASSIFIER / CACHES
###############
PYTHIA_USE_LLM_CLASSIFIER=1
PYTHIA_DISABLE_CLASSIFIER_CACHE=1
PYTHIA_DISABLE_RESEARCH_CACHE=1
# Optional: one markdown file per run (no subfolder) is 1; blank means one file per question
HUMAN_LOG_FLAT=

# Log GitHub Commit config 
HUMAN_LOG_EXT=md
DISABLE_GIT_LOGS=false
COMMIT_LOGS=true 
GIT_LOG_MESSAGE="chore(logs): append forecasts & run logs"
GIT_REMOTE_NAME=origin
GIT_BRANCH_NAME=main 

###############
# COST TRACKING (local use) USD per 1000 tokens
###############
MODEL_COSTS_JSON={
  "openai/gpt-4o":{"prompt":2.5,"completion":10.0},
  "anthropic/claude-3.7-sonnet":{"prompt":3.0,"completion":15.0},
  "gemini-2.5-pro":{"prompt":1.25,"completion":10.0},
  "grok-4":{"prompt":3.0,"completion":15.0}
}

###############
# RESOLVER CONNECTORS
###############


# ---------- Core runtime ----------
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
LOG_LEVEL=INFO
TZ=Europe/Istanbul
RESOLVER_ENV=local

# ---------- Paths (file-backed defaults) ----------
RESOLVER_DATA_DIR=resolver
RESOLVER_EXPORT_DIR=${RESOLVER_DATA_DIR}/exports
RESOLVER_STAGING_DIR=${RESOLVER_DATA_DIR}/staging
RESOLVER_LOG_DIR=${RESOLVER_DATA_DIR}/logs
RESOLVER_SNAPSHOTS_DIR=${RESOLVER_DATA_DIR}/snapshots

# ---------- DB toggle (leave unset to stay file-only) ----------
# DuckDB local file (created on demand). If you set this, dual-write turns on.
RESOLVER_DB_URL=duckdb:///resolver/db/resolver.duckdb
# For the API/CLI, choose backend: files | db   (defaults to files if unset)
RESOLVER_API_BACKEND=files

# ---------- HTTP client/backoff (safe defaults) ----------
REQUESTS_TIMEOUT_SECONDS=30
REQUESTS_MAX_RETRIES=3
REQUESTS_BACKOFF_FACTOR=1.5
HTTP_USER_AGENT=UNICEF-Resolver-P1L1T6 (+contact@example.org)

# ---------- ReliefWeb ----------
RELIEFWEB_APPNAME=UNICEF-Resolver-P1L1T6
RELIEFWEB_USER_AGENT=UNICEF-Resolver-P1L1T6/1.0 (+contact@example.org)
RELIEFWEB_BASE_URL=https://api.reliefweb.int/v1
RELIEFWEB_COOKIE_JAR=.cache/reliefweb_cookies.json
RELIEFWEB_QPS=0.5

# ---------- ACLED (use refresh token; access token is generated at runtime) ----------
ACLED_OAUTH_URL=https://acleddata.com/oauth/token
ACLED_API_BASE=https://api.acleddata.com
ACLED_SCOPE=read
ACLED_AUTO_REFRESH=true
# If you must do username/password locally (not recommended), set these:
# ACLED_USERNAME=
# ACLED_PASSWORD=
# Preferred: just set ACLED_REFRESH_TOKEN in GitHub Secrets; locally you can omit.

# ---------- DTM (keys you already created) ----------
DTM_API_PRIMARY_KEY=
DTM_API_SECONDARY_KEY=
<<<<<<< Updated upstream
<<<<<<< Updated upstream
<<<<<<< Updated upstream
# Optional custom header name (defaults to x-api-key)
# DTM_API_HEADER_NAME=

# DuckDB toggle for resolver dual-write/query layer
RESOLVER_DB_URL=
=======
=======
>>>>>>> Stashed changes
=======
>>>>>>> Stashed changes

# ---------- HDX (optional; only if you have one) ----------
HDX_API_KEY=
# If SSL issues with HDX mirrors arise, you can disable per-source in code; global toggle here:
HDX_SSL_VERIFY=true

# ---------- WFP/mVAM (optional; fill if required) ----------
WFP_API_KEY=

# ---------- WorldPop / GDELT / UNHCR / GDACS ----------
# These typically don’t require keys; keep defaults unless you add rate limits in code.
WORLDPOP_BASE=https://www.worldpop.org/
GDELT_BASE=https://api.gdeltproject.org/api/v2/
UNHCR_BASE=https://api.unhcr.org/
GDACS_BASE=https://www.gdacs.org/

# ---------- Snapshots/metadata ----------
GIT_SHA_FALLBACK=local-dev
<<<<<<< Updated upstream
<<<<<<< Updated upstream
>>>>>>> Stashed changes
=======
>>>>>>> Stashed changes
=======
>>>>>>> Stashed changes
